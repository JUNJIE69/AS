<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>æ–‡æœ¬é˜…è¯»å™¨</title>
    <style>
        /* æç®€æ ·å¼ - æ‰€æœ‰è®¾å¤‡å…¼å®¹ */
        body {
            font-family: Arial, Helvetica, sans-serif;
            margin: 10px;
            padding: 0;
            background: white;
        }
        
        h1 {
            text-align: center;
            color: #333;
            font-size: 20px;
            margin: 10px 0;
        }
        
        .info {
            background: #f0f0f0;
            padding: 8px;
            margin: 5px 0;
            text-align: center;
            font-size: 14px;
        }
        
        .content {
            background: #f9f9f9;
            border: 1px solid #ddd;
            padding: 10px;
            margin: 10px 0;
            min-height: 300px;
            font-size: 16px;
            line-height: 1.5;
            white-space: pre-wrap;
        }
        
        .controls {
            text-align: center;
            margin: 15px 0;
        }
        
        .btn {
            display: inline-block;
            padding: 8px 15px;
            margin: 5px;
            background: #0077cc;
            color: white;
            text-decoration: none;
            border: none;
            font-size: 14px;
        }
        
        .btn:active {
            background: #0055aa;
        }
        
        .jump-box {
            margin: 10px 0;
            padding: 10px;
            background: #f0f0f0;
            text-align: center;
        }
        
        .page-input {
            width: 60px;
            padding: 5px;
            margin: 0 5px;
            text-align: center;
        }
        
        .help {
            margin-top: 20px;
            padding-top: 10px;
            border-top: 1px solid #ddd;
            font-size: 12px;
            color: #666;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>ğŸ“– æ–‡æœ¬é˜…è¯»å™¨</h1>
    
    <div class="info">
        ç¬¬ <span id="pageNum">1</span> é¡µ / å…± <span id="totalPages">1</span> é¡µ
        | å­—æ•°: <span id="charCount">0</span>
    </div>
    
    <div class="content" id="textContent">
        æ­£åœ¨åŠ è½½...
    </div>
    
    <div class="controls">
        <a href="javascript:prevPage()" class="btn">ä¸Šä¸€é¡µ</a>
        <a href="javascript:toggleJump()" class="btn">è·³è½¬</a>
        <a href="javascript:nextPage()" class="btn">ä¸‹ä¸€é¡µ</a>
    </div>
    
    <div id="jumpBox" class="jump-box" style="display:none">
        é¡µç : <input type="number" id="pageInput" class="page-input" min="1" value="1">
        <a href="javascript:goToPage()" class="btn">è·³è½¬</a>
        <a href="javascript:toggleJump()" class="btn">å–æ¶ˆ</a>
    </div>
    
    <div class="help">
        æ¯é¡µ200å­— | å…¼å®¹æ‰€æœ‰æ‰‹æœº
    </div>

    <script>
        // ========== æ–‡æœ¬å†…å®¹ç›´æ¥å†™åœ¨è¿™é‡Œ ==========
        // æ›¿æ¢ä¸‹é¢çš„æ–‡æœ¬ä¸ºæ‚¨è‡ªå·±çš„å†…å®¹
        var fullText = `æ¬¢è¿ä½¿ç”¨è¶…ç®€æ–‡æœ¬é˜…è¯»å™¨ï¼

è¿™ä¸ªç‰ˆæœ¬ä¸“é—¨è§£å†³æ‰‹æœºè®¿é—®é—®é¢˜ï¼š
1. æ–‡æœ¬ç›´æ¥åµŒå…¥åœ¨é¡µé¢ä¸­
2. æ— ä»»ä½•å¤–éƒ¨è¯·æ±‚
3. å…¼å®¹æ‰€æœ‰æ‰‹æœºæµè§ˆå™¨
4. åŒ…æ‹¬åŠŸèƒ½æœº/è€äººæœº

ä½¿ç”¨æ–¹æ³•ï¼š
â€¢ ç‚¹å‡»"ä¸Šä¸€é¡µ"/"ä¸‹ä¸€é¡µ"ç¿»é¡µ
â€¢ ç‚¹å‡»"è·³è½¬"è¾“å…¥é¡µç 
â€¢ æ¯é¡µæ˜¾ç¤º200å­—

å¼€å§‹é˜…è¯»ï¼š

ã€Šé™å¤œæ€ã€‹
åºŠå‰æ˜æœˆå…‰ï¼Œç–‘æ˜¯åœ°ä¸Šéœœã€‚
ä¸¾å¤´æœ›æ˜æœˆï¼Œä½å¤´æ€æ•…ä¹¡ã€‚

ã€Šæ˜¥æ™“ã€‹
æ˜¥çœ ä¸è§‰æ™“ï¼Œå¤„å¤„é—»å•¼é¸Ÿã€‚
å¤œæ¥é£é›¨å£°ï¼ŒèŠ±è½çŸ¥å¤šå°‘ã€‚

ã€Šç™»é¹³é›€æ¥¼ã€‹
ç™½æ—¥ä¾å±±å°½ï¼Œé»„æ²³å…¥æµ·æµã€‚
æ¬²ç©·åƒé‡Œç›®ï¼Œæ›´ä¸Šä¸€å±‚æ¥¼ã€‚

æ–‡æœ¬é˜…è¯»å™¨ç‰¹ç‚¹ï¼š
âœ“ å®Œå…¨ç¦»çº¿å¯ç”¨
âœ“ æ— éœ€ç½‘ç»œè¿æ¥
âœ“ æç®€ä»£ç ï¼Œå…¼å®¹æ€§å¥½
âœ“ æ”¯æŒåˆ†é¡µé˜…è¯»

ç¥æ‚¨é˜…è¯»æ„‰å¿«ï¼

å¦‚éœ€æ›´æ–°æ–‡æœ¬å†…å®¹ï¼Œè¯·ä¿®æ”¹HTMLæ–‡ä»¶ä¸­çš„fullTextå˜é‡ã€‚

æ‚¨å¯ä»¥åœ¨æ­¤å¤„æ·»åŠ ä»»æ„é•¿åº¦çš„æ–‡æœ¬å†…å®¹ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ†é¡µæ˜¾ç¤ºã€‚`;

        // ========== é…ç½® ==========
        var wordsPerPage = 200;  // æ¯é¡µå­—æ•°
        
        // ========== å…¨å±€å˜é‡ ==========
        var currentPage = 1;
        var totalPages = 1;
        
        // ========== åˆå§‹åŒ– ==========
        function init() {
            // è®¡ç®—æ€»é¡µæ•°
            totalPages = Math.ceil(fullText.length / wordsPerPage);
            if (totalPages < 1) totalPages = 1;
            
            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('totalPages').innerHTML = totalPages;
            document.getElementById('charCount').innerHTML = fullText.length;
            
            // ä»URLè¯»å–é¡µç 
            var pageFromURL = getPageFromURL();
            if (pageFromURL > 0 && pageFromURL <= totalPages) {
                currentPage = pageFromURL;
            }
            
            // æ˜¾ç¤ºç¬¬ä¸€é¡µ
            showPage(currentPage);
            
            // æ›´æ–°URL
            updateURL();
        }
        
        // ========== æ˜¾ç¤ºé¡µé¢å†…å®¹ ==========
        function showPage(page) {
            if (page < 1) page = 1;
            if (page > totalPages) page = totalPages;
            
            currentPage = page;
            
            // è®¡ç®—é¡µç èŒƒå›´
            var start = (page - 1) * wordsPerPage;
            var end = start + wordsPerPage;
            if (end > fullText.length) end = fullText.length;
            
            // è·å–å½“å‰é¡µæ–‡æœ¬
            var pageText = fullText.substring(start, end);
            
            // æ·»åŠ é¡µçœ‰
            var header = "ç¬¬ " + page + " é¡µ / å…± " + totalPages + " é¡µ\n";
            header += "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n";
            
            // æ·»åŠ é¡µè„š
            var footer = "\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n";
            if (page == totalPages) {
                footer += "ğŸ“š å·²åˆ°æœ«å°¾";
            }
            
            // æ˜¾ç¤ºå†…å®¹
            document.getElementById('textContent').innerHTML = header + pageText + footer;
            document.getElementById('pageNum').innerHTML = page;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            updateButtons();
            
            // æ›´æ–°URL
            updateURL();
        }
        
        // ========== ç¿»é¡µåŠŸèƒ½ ==========
        function prevPage() {
            if (currentPage > 1) {
                showPage(currentPage - 1);
            }
        }
        
        function nextPage() {
            if (currentPage < totalPages) {
                showPage(currentPage + 1);
            }
        }
        
        function goToPage() {
            var input = document.getElementById('pageInput');
            var page = parseInt(input.value);
            
            if (!isNaN(page) && page >= 1 && page <= totalPages) {
                showPage(page);
                toggleJump();
            } else {
                alert("è¯·è¾“å…¥ 1 åˆ° " + totalPages + " ä¹‹é—´çš„æ•°å­—");
                input.focus();
                input.select();
            }
        }
        
        // ========== è·³è½¬åŠŸèƒ½ ==========
        function toggleJump() {
            var jumpBox = document.getElementById('jumpBox');
            if (jumpBox.style.display == 'block') {
                jumpBox.style.display = 'none';
            } else {
                jumpBox.style.display = 'block';
                document.getElementById('pageInput').value = currentPage;
                document.getElementById('pageInput').focus();
                document.getElementById('pageInput').select();
            }
        }
        
        // ========== æ›´æ–°æŒ‰é’®çŠ¶æ€ ==========
        function updateButtons() {
            // æŒ‰é’®çŠ¶æ€é€šè¿‡CSSçš„:activeä¼ªç±»å®ç°
            // è¿™é‡Œå¯ä»¥æ·»åŠ ç¦ç”¨é€»è¾‘ï¼ˆå¯é€‰ï¼‰
        }
        
        // ========== URLå¤„ç† ==========
        function updateURL() {
            try {
                // æ›´æ–°URLä¸­çš„é¡µç å‚æ•°
                var url = window.location.pathname;
                var newURL = url + '?page=' + currentPage;
                window.history.replaceState({page: currentPage}, '', newURL);
            } catch(e) {
                // å¿½ç•¥é”™è¯¯
            }
        }
        
        function getPageFromURL() {
            try {
                var url = window.location.search;
                var match = url.match(/[?&]page=(\d+)/);
                if (match) {
                    return parseInt(match[1]);
                }
            } catch(e) {
                // å¿½ç•¥é”™è¯¯
            }
            return 0;
        }
        
        // ========== é”®ç›˜å¿«æ·é”® ==========
        document.onkeydown = function(e) {
            e = e || window.event;
            var key = e.keyCode || e.which;
            
            // å·¦é”®ï¼šä¸Šä¸€é¡µ
            if (key == 37 || key == 38) {
                prevPage();
                return false;
            }
            
            // å³é”®ï¼šä¸‹ä¸€é¡µ
            if (key == 39 || key == 40) {
                nextPage();
                return false;
            }
        };
        
        // ========== é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ– ==========
        // ç¡®ä¿é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        if (window.addEventListener) {
            window.addEventListener('DOMContentLoaded', init);
        } else {
            window.attachEvent('onload', init);
        }
        
        // ä¼ ç»Ÿæ–¹å¼ç¡®ä¿æ‰§è¡Œ
        window.onload = init;
        
        // ç«‹å³æ‰§è¡Œä¸€æ¬¡ï¼ˆå¦‚æœDOMå·²ç»åŠ è½½ï¼‰
        if (document.readyState === 'complete') {
            init();
        }
    </script>
</body>
</html>
